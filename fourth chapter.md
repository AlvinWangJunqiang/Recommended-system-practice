# 利用用户标签数据
## UGC标签系统代表应用
* Delicious
* CiteULike
* Last.fm
* 豆瓣
* Hulu
## 标签系统中的推荐问题
1. 标签系统中的推荐问题主要有以下两个
	* 如何利用用户打标签的行为为其推荐物品（基于标签的推荐）？
	* 如何在用户给物品打标签时为其推荐适合该物品的标签（标签推荐）？
2. 先回答以下问题
	1. 用户为什么进行标注：并从两个维度进行探讨。②首先是社会维度，有些用户标注是给内容上传者使用的（便于上传者组织自己的信息），而有些用户标注是给广大用户使用的（便于帮助其他用户找到信息）。另一个维度是功能维度，有些标注用于更好地组织内容，方便用户将来的查找，而另一些标注用于传达某种信息，比如照片的拍摄时间和地点等。
	2. 用户如何打标签</br>
	![标签符合长尾分布](https://github.com/easezyc/Recommended-system-practice/blob/master/pics/pic29.png?raw=true)
    3. 用户打什么样的标签
    不同网站的标签类型不同
## 基于标签的推荐系统
### 一个简单的算法
1. 算法描述
	* 统计每个用户最常用的标签。
	* 对于每个标签，统计被打过这个标签次数最多的物品。
	* 对于一个用户，首先找到他常用的标签，然后找到具有这些标签的最热门物品推荐给这个用户。
2. 用户对物品的兴趣公式</br>
	![用户对物品的兴趣公式](https://github.com/easezyc/Recommended-system-practice/blob/master/pics/pic30.png?raw=true)
### 算法的改进
1. TF-IDF
	1. 前面这个公式倾向于给热门标签对应的热门物品很大的权重，因此会造成推荐热门的物品给用户，从而降低推荐结果的新颖性。另外，这个公式利用用户的标签向量对用户兴趣建模，其中每个标签都是用户使用过的标签，而标签的权重是用户使用该标签的次数。这种建模方法的缺点是给热门标签过大的权重，从而不能反应用户个性化的兴趣。惩罚热门标签：</br>
	![惩罚热门标签](https://github.com/easezyc/Recommended-system-practice/blob/master/pics/pic31.png?raw=true)
    2. 惩罚热门物品</br>
    ![惩罚热门物品](https://github.com/easezyc/Recommended-system-practice/blob/master/pics/pic32.png?raw=true)
2. 数据稀疏性
考虑到新用户或者新物品的标签很少，需要进行标签扩展。标签扩展的本质是对每个标签找到和它相似的标签，也就是计算标签之间的相似度。</br>
 ![计算标签之间的相似度](https://github.com/easezyc/Recommended-system-practice/blob/master/pics/pic32.png?raw=true)
3. 标签清理
	* 去除词频很高的停止词；
	* 去除因词根不同造成的同义词，比如 recommender system和recommendation system；
    * 去除因分隔符造成的同义词，比如 collaborative_filtering和collaborative-filtering
为了控制标签的质量，很多网站也采用了让用户进行反馈的思想，即让用户告诉系统某个标签是否合适。
4. 基于图的推荐算法
5. 基于标签的推荐解释
结论如下
	* 用户对标签的兴趣对帮助用户理解为什么给他推荐某个物品更有帮助
    * 用户对标签的兴趣和物品标签相关度对于帮助用户判定自己是否喜欢被推荐物品具有同样的作用；
    * 物品标签相关度对于帮助用户判定被推荐物品是否符合他当前的兴趣更有帮助；
    * 客观事实类标签相比主观感受类标签对用户更有作用。
## 给用户推荐标签
### 为什么要给用户推荐标签
* 方便用户输入标签
* 提高标签质量
### 如何给用户推荐标签
* 给用户u推荐整个系统里最热门的标签
* 是给用户u推荐物品i上最热门的标签
* 给用户u推荐他自己经常使用的标签
* 前面两种的融合（这里记为HybridPopularTags），该方法通过一个系数将上面的推荐结果线性加权，然后生成最终的推荐结果。（**在将两个列表线性相加时都将两个列表按最大值做了归一化，这样的好处是便于控制两个列表对最终结果的影响，而不至于因为物品非常热门而淹没用户对推荐结果的影响，或者因为用户非常活跃而淹没物品对推荐结果的影响。**）
### 其他
前面提到的基于统计用户常用标签和物品常用标签的算法有一个缺点，就是对新用户或者不热门的物品很难有推荐结果。解决这一问题有两个思路。
1. 第一个思路是从物品的内容数据中抽取关键词作为标签。这方面的研究很多，特别是在上下
文广告领域。
2. 第二个思路是针对有结果，但结果不太多的情况。比如《MongoDB权威指南》一书只有一个用户曾经给它打过一个标签nosql，这个时刻可以做一些关键词扩展，加入一些和nosql相关的标签，比如数据库、编程等。实现标签扩展的关键就是计算标签之间的相似度。